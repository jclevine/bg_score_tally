<!doctype html>
<html lang="en" ng-app="BgScoreTally">
<head>
  <meta charset="utf-8">
  <title>Boardgame Score Tally</title>
  <link rel="stylesheet" href="css/app.css"/>
  <link rel="stylesheet" href="lib/foundation/foundation.min.css"/>
  <link rel="stylesheet" href="lib/foundation/foundation_icons_all/foundation_icons_general/stylesheets/general_foundicons.css"/>
  <link rel="shortcut icon" href="favicon.ico" />
</head>
<body ng-controller="SelectionCtrl">
  <div>
    <div class="selections">
      <p class="select-header">Game:</p>
      <select id="game_select" ng-model="selected.game" ng-init="selected.game=-1" ng-change="resetTotalScores()">
        <option ng-repeat="game in selections.games" value="{{$index}}">{{game.label}}</option>
     </select>
    </div>
    <div class="selections">
      <p class="select-header">Num. of Players:</p>
      <select id="num_players_select" ng-model="selected.num_players" ng-init="selected.num_players=0"
       ng-options="i for i in selections.numPlayers">
      </select>
    </div>
  </div>

  <div class="score-board">

    <table class="score-board-table">
      <thead>
        <tr>
          <th class="heading">Player Name</th>
          <th class="heading" ng-repeat="scoreTypeName in getScoreTypeNames()">{{scoreTypeName}}</th>
          <th class="heading">Total Score</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="i in getSelectedNumPlayers($index)">
          <td class="player-name-cell"><input tabindex="{{$index + 1}}" class="player-name round label" type="text" value="Player {{$index + 1}}"/></td>
          <td class="score-cell" ng-repeat="scoreTypeName in getScoreTypeNames()"><input class="score-field" ng-model="score" ng-change="updateTotal()"></input></td>
          <td class="total-score"><h3>{{totalScores[$index]}}</h3></td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan={{getScoreTypeNames()}}><button class="add-player-button" ng-click="addPlayer()"><i class="foundicon-plus">Add Player</i></button></td>
        </tr>
      </tfoot>
    </table>
  </div>

  <!-- In production use:
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
  -->
  <script src="lib/angular/angular.js"></script>
  <script src="js/app.js"></script>
  <script src="js/services.js"></script>
  <script src="js/controllers.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/directives.js"></script>
  <script src="lib/underscore/underscore.js"></script>
</body>
</html>
